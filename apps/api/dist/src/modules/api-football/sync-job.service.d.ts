import { Queue } from 'bull';
import { PrismaService } from '@/prisma/prisma.service';
import { SyncJobType, CreateSyncJobDto, UpdateSyncJobDto, SyncJobFilter, SyncJobStats, SyncJobResult } from './interfaces';
export declare class SyncJobService {
    private readonly prisma;
    private readonly syncQueue;
    private readonly logger;
    constructor(prisma: PrismaService, syncQueue: Queue);
    createJob(dto: CreateSyncJobDto): Promise<string>;
    updateJob(id: string, dto: UpdateSyncJobDto): Promise<void>;
    markAsProcessing(id: string): Promise<void>;
    markAsCompleted(id: string, result: SyncJobResult): Promise<void>;
    markAsFailed(id: string, error: Error): Promise<void>;
    getJob(id: string): Promise<{
        params: import("@prisma/client/runtime/library").JsonValue;
        type: import("@prisma/client").$Enums.SyncJobType;
        status: import("@prisma/client").$Enums.SyncJobStatus;
        createdAt: Date;
        id: string;
        updatedAt: Date;
        result: import("@prisma/client/runtime/library").JsonValue | null;
        priority: import("@prisma/client").$Enums.SyncJobPriority;
        errorMessage: string | null;
        progress: number;
        totalItems: number | null;
        processedItems: number;
        errorStack: string | null;
        retryCount: number;
        maxRetries: number;
        scheduledAt: Date | null;
        startedAt: Date | null;
        completedAt: Date | null;
        parentJobId: string | null;
        triggeredBy: string | null;
        bullJobId: string | null;
    } | null>;
    getJobs(filter?: SyncJobFilter): Promise<{
        params: import("@prisma/client/runtime/library").JsonValue;
        type: import("@prisma/client").$Enums.SyncJobType;
        status: import("@prisma/client").$Enums.SyncJobStatus;
        createdAt: Date;
        id: string;
        updatedAt: Date;
        result: import("@prisma/client/runtime/library").JsonValue | null;
        priority: import("@prisma/client").$Enums.SyncJobPriority;
        errorMessage: string | null;
        progress: number;
        totalItems: number | null;
        processedItems: number;
        errorStack: string | null;
        retryCount: number;
        maxRetries: number;
        scheduledAt: Date | null;
        startedAt: Date | null;
        completedAt: Date | null;
        parentJobId: string | null;
        triggeredBy: string | null;
        bullJobId: string | null;
    }[]>;
    getStats(): Promise<SyncJobStats>;
    cancelJob(id: string): Promise<boolean>;
    forceReleaseJob(id: string): Promise<boolean>;
    forceReleaseByType(type: SyncJobType): Promise<number>;
    retryJob(id: string): Promise<string | null>;
    cleanupOldJobs(olderThanDays?: number): Promise<number>;
    getQueueStatus(): Promise<{
        waiting: number;
        active: number;
        completed: number;
        failed: number;
        delayed: number;
    }>;
}
